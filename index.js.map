{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '32552782-0d4c86680018457e820f20492';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const fetchImages = query => {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst createGalleryCardTemplate = imgInfo => {\n  return `<li class=\"gallery-card\">\n    <a href=\"${imgInfo.largeImageURL}\">\n      <img src=\"${imgInfo.webformatURL}\" alt=\"${imgInfo.tags}\" class=\"gallery-img\" />\n    </a>\n    <div class=\"gallery-info\">\n      <p><span class=\"label\">Likes</span> <span class=\"value\">${imgInfo.likes}</span></p>\n      <p><span class=\"label\">Views</span> <span class=\"value\">${imgInfo.views}</span></p>\n      <p><span class=\"label\">Comments</span> <span class=\"value\">${imgInfo.comments}</span></p>\n      <p><span class=\"label\">Downloads</span> <span class=\"value\">${imgInfo.downloads}</span></p>\n    </div>\n  </li>`;\n};\n\nexport const renderGallery = images => {\n  const gallery = document.querySelector('.js-gallery');\n  gallery.innerHTML = images.map(createGalleryCardTemplate).join('');\n\n  lightbox.refresh();\n};\n\nexport const showWarningToast = message => {\n  iziToast.warning({\n    title: 'Warning',\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n    position: 'topRight',\n  });\n};\n\nexport const showErrorToast = message => {\n  iziToast.error({\n    title: 'Error',\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n    position: 'topRight',\n  });\n};\n\nconst lightbox = new SimpleLightbox('.gallery-card a', {\n  captions: true,\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n});\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { fetchImages } from './js/pixabay-api';\nimport {\n  renderGallery,\n  showWarningToast,\n  showErrorToast,\n} from './js/render-functions';\n\nconst searchForm = document.querySelector('.js-search-form');\nconst gallery = document.querySelector('.js-gallery');\nconst loader = document.querySelector('.loader');\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n\n  const inputValue = searchForm.elements.text.value.trim();\n\n  if (!inputValue) {\n    showWarningToast(\n      'Sorry, there are no images matching your search query. Please try again!'\n    );\n    return;\n  }\n\n  loader.classList.remove('hidden');\n\n  fetchImages(inputValue)\n    .then(data => {\n      if (data.hits.length === 0) {\n        showErrorToast(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n        gallery.innerHTML = '';\n        return;\n      }\n\n      gallery.innerHTML = '';\n\n      renderGallery(data.hits);\n    })\n    .catch(err => {\n      showErrorToast(\n        'An error occurred while fetching the data. Please try again!'\n      );\n    })\n    .finally(() => {\n      loader.classList.add('hidden');\n    });\n};\n\nsearchForm.addEventListener('submit', onSearchFormSubmit);\n"],"names":["API_KEY","BASE_URL","fetchImages","query","url","response","createGalleryCardTemplate","imgInfo","renderGallery","images","gallery","lightbox","showWarningToast","message","iziToast","showErrorToast","SimpleLightbox","searchForm","loader","onSearchFormSubmit","event","inputValue","data","err"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEJC,EAAcC,GAAS,CAClC,MAAMC,EAAM,GAAGH,CAAQ,QAAQD,CAAO,MAAMG,CAAK,2DAEjD,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,ECPMC,EAA4BC,GACzB;AAAA,eACMA,EAAQ,aAAa;AAAA,kBAClBA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA,gEAGIA,EAAQ,KAAK;AAAA,gEACbA,EAAQ,KAAK;AAAA,mEACVA,EAAQ,QAAQ;AAAA,oEACfA,EAAQ,SAAS;AAAA;AAAA,SAKxEC,EAAgBC,GAAU,CACrC,MAAMC,EAAU,SAAS,cAAc,aAAa,EACpDA,EAAQ,UAAYD,EAAO,IAAIH,CAAyB,EAAE,KAAK,EAAE,EAEjEK,EAAS,QAAO,CAClB,EAEaC,EAAmBC,GAAW,CACzCC,EAAS,QAAQ,CACf,MAAO,UACP,QACE,2EACF,SAAU,UACd,CAAG,CACH,EAEaC,EAAiBF,GAAW,CACvCC,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,UACd,CAAG,CACH,EAEMH,EAAW,IAAIK,EAAe,kBAAmB,CACrD,SAAU,GACV,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB,CAAC,ECxCKC,EAAa,SAAS,cAAc,iBAAiB,EACrDP,EAAU,SAAS,cAAc,aAAa,EAC9CQ,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EAEpB,MAAMC,EAAaJ,EAAW,SAAS,KAAK,MAAM,OAElD,GAAI,CAACI,EAAY,CACfT,EAEA,EACA,MACD,CAEDM,EAAO,UAAU,OAAO,QAAQ,EAEhChB,EAAYmB,CAAU,EACnB,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BP,EAEA,EACAL,EAAQ,UAAY,GACpB,MACD,CAEDA,EAAQ,UAAY,GAEpBF,EAAcc,EAAK,IAAI,CAC7B,CAAK,EACA,MAAMC,GAAO,CACZR,EAEA,CACN,CAAK,EACA,QAAQ,IAAM,CACbG,EAAO,UAAU,IAAI,QAAQ,CACnC,CAAK,CACL,EAEAD,EAAW,iBAAiB,SAAUE,CAAkB"}